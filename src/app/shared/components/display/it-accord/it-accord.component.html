<div class="flex flex-col">
  <div 
    class="flex flex-row justify-between items-center cursor-pointer"
    (click)="toggleState()"
    *ngIf="!!heading"
  >
    <h4>{{heading}}</h4>
    <it-icon
      class="transition-all ease-out"
      [ngClass]="{
        'rotate-180': selected && !!!icon
      }"
      [filled]="!!icon && selected"
    >
      {{ !!icon ? icon : 'expand_more' }}
    </it-icon>
  </div>
  <div [ngClass]="{'hidden': !wrapper.children.length}">
    <div class="h-2"></div>
  </div>
  <div #wrapper>
    <ng-content select="[default]"></ng-content>
  </div>
  <div
    #content
    id="content"
    class="
      overflow-hidden max-h-0 transition-all duration-700 ease-in-out
    "
  >
    <!-- Using div instead of padding/margin so antimation is displayed correct -->
    <div class="h-2"></div>
    <ng-content select="[collapsible]"></ng-content>
  </div>
</div>