<div class="flex flex-col">
  <div 
    class="flex flex-row justify-between items-center cursor-pointer"
    (click)="toggleState()"
    *ngIf="heading"
  >
    <h4 [innerHTML]="heading"></h4>
    <it-icon
      class="transition-all ease-out"
      [ngClass]="{
        'rotate-180': selected && !icon
      }"
      [filled]="!!icon && selected"
    >
      {{ icon ? icon : 'expand_more' }}
    </it-icon>
  </div>
  <div [ngClass]="{'hidden': !wrapperDefault.children.length}">
    <div class="h-2"></div>
  </div>
  <div #wrapperDefault>
    <ng-content select="[default]"></ng-content>
  </div>
  <div
    #content
    id="content"
    class="
      overflow-hidden max-h-0 transition-all duration-700 ease-in-out
    "
  >
    <!-- Using div instead of padding/margin so antimation is displayed correct -->
    <div [ngClass]="{'hidden': !wrapperCollapsible.children.length}">
      <div class="h-2"></div>
    </div>
    <div #wrapperCollapsible class="flex flex-col gap-2">
      <ng-content select="[collapsible]"></ng-content>
    </div>
  </div>
</div>